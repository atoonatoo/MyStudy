생성일 | {{2024-01-21}}
작성자 | 김동욱

# 12-2 동기화 기법
### 요약

- 뮤텍스 락은 임계 구역을 잠금으로써 프로세스 간의 상호 배제를 이룬다.
- 세마포어는 공유 자원이 여러 개 있는 임계 구역 문제도 해결할 수 있는 동기화 도구이다.
- 모니터는 세마포어에 비해 사용자가 사용하기 편리한 동기화 도구로 조건 변수를 사용한다.

---
- 뮤텍스 락
	- 동시에 접근해서는 안되는 자원에 동시에 접근할 수 없도록 만드는 도구
	- 상호배제를 위한 도구
	- 자물쇠 역할
		- 프로세스들이 공유하는 전역 변수 
			- lock
		- 임계 구역을 잠그는 역할
			- acquire 함수
				- 프로세스가 임계 구역에 진입하기 전에 호출하는 함수
				- 임계 구역이 짐겨있다면 열릴 때까지(lock이 false가 될 때까지) 임계 구역을 반복적으로 확인하고, 열려 있다면 임계구역을 잠그는(lock을 true로 바꾸는)함수이다.
		- 임계 구역의 잠금을 해제하는 역할
			- release 함수
				- 임계 구역에서의 작업이 끝나고 호출하는 함수이다.
				- lock을 false로 바꾸는 함수
				- @ 코드 예제
		- 바쁜 대기(busy wait)
			- 탈의실 문이 잠겨 있는지 쉴 새 없이 반복하며 확인하는 것과 같은 대기 방식
- 세마포어
	- 뮤텍스 락과 비슷하지만 좀 더 일반화된 방식의 동기화 도구
	- 공유 자원이 여러 개 있을 경우 (각 공유 자원에는 하나의 프로세스만 진입이 가능할지라도) 여러 개의 프로세스가 각각 공유 자원에 접근이 가능해야 한다.
	- 즉, 고유 자원이 여러 개 있는 상황에서도 적용이 가능한 동기화 도구
	- 세마포어 구현
		1. 전역 변수 S
			-  임계 구역에 진입할 수 있는 프로세스의 개수(사용 가능한 공유 자원의 개수)를 나타내는 전역 변수
		2. wait 함수
			- 임계 구역에 들어가도 좋은지, 기다려야 할지를 알려주는 함수
		3. signal 함수
			- 임계 구역 앞에서 기다리는 프로세스에 '이제 가도좋다'고 신호를 주는 함수
		- @ 코드 예제
- 모니터
	- 세마포어의 불편한 점
		- 매번 임계 구역에 앞뒬 일일이 wait와 signal 함수를 명시하는 것은 번거로운 일이기 때문이다.
		- 잘못된 세마포어 코드로 인해 예기치 못한 결과도 발생할 수 있다.
			- 세마포어의 잘못된 사용 예시
				- 세마포어 누락한 경우
				- wait와 signal 순서를 햇갈린 경우
				- wait와 signal을 중복해서 사용한 경우
	- 상대적으로 세마포어에 비해 사용자가 사용하기 훨씬 편리한 도구
	- 공유 자원에 접근하기 위한 인터페이스(통로)를 묶어 관리한다.
	- 프로세스는 반드시 인터페이스를 통해서만 공유 자원에 접근하도록 한다.
	- 조건 변수(condition variable)
		- 프로세스나 스레드의 실행 순서를 제어하기 위해 사용하는 특별한 변수
		- wait와 signal 연산을 수행할 수 있다.
		- @ 그림 첨부

---
- Quiz
	- 