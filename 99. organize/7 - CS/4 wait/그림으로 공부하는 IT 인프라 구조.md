

----
##### 연결 문서

- 
- 
- 
---

### 제 1장 인프라 아키텍쳐를 살펴보자

- **1.0 카테고리**
	- 인프라 아키텍처
		- 집약형 아키텍처
		- 분할형 아키텍처
			- 수직분할형 아키텍쳐
				- 클라이언트-서버형 아키텍쳐
				- 3계층형 아키텍처
			- 수평분할형 아키텍처
				- 단순 수평 분할형 아키텍처
				- 공유형 아키텍처
			- 지리 분할형 아키텍처
				- 스탠바이형 아키텍처
				- 재해 대책형 아키텍처
	
- **1.1 인프라란 ?**
	일상 생활의 인프라란 전기, 수도, 가스 등 공공의 목적의 인프라가 있다.
	이러한 인프라들은 우리의 생활을 지탱하는 바탕의 토대라는 의미를 가졌다.
	
	전문가에 의해 관리되고 있어서 사용자는 그 구조를 이해하지 않아도 
	간단히 사용할 수 있다는 특징이 있다.
	
	IT 인프라도 마찬가지이다. 
	많은 예시 중 도메인이나 웹페이지를 이용하는 사용자들은 
	그 원리를 이해하지 못해도 간단하게 이용할 수 있다.
	
	- **아키텍쳐란 ?**
		특정한 것의 '구조'를 의미한다."
		
		예시로 기차나 자동차는 수많은 종류가 있지만 그 구조는 모두 통일되어 있다.
		자동차는 사람을 태울 수 있고 4개의 바퀴를 가졌으며 그 밖에 기능들이 모두 표준으로 통일되어 있다.
		
		IT 인프라도 마찬가지이다.
		항공 발권 시스템, 편의점 계산대 등 사용하는 이용자는 모두 다르지만 놀라울 정도로 같은 구조로 이루어져 있다.
		
		1장은 현재 IT 업계의 주류가 되고 있는 인프라 아키텍쳐를 다룰 것이다.
		
	- **궁극의 아키텍쳐와 최적의 아키텍쳐는 존재하는가?**
		책에서는 다양한 아키텍처 구성과 기술 구성 요소 및 이중화, 성능 등에 대해 설명한다.
		책을 읽으며 들 수 있는 의문이 들 수 있다.
		
		*'어떠한 시스템이든 모두 사용할 수 있는 범용성을 가진 만능의 아키텍처'를 
		만들 수 있지 않을까?'*     ->	*불가능하다.*
		
		어떠한 아키텍처의 설계 요소에는 반드시 장,단점이 공존한다.
		가장 큰 제약은 시스템 도입 비용이다.
		그렇기에 시스템에 따라 중요한 사항을 잘 찾아서 최적의 설계를 하도록 해야한다.
	
- **1.2 집약형과 분할형 아키텍처**
	IT 인프라는 컴퓨터로 구성된다. 
	기본적인 구성 방식에는 '집약형'과 '분할형'이 있다.
	
	- 집약형 아키텍처
		- 한대의 대형 컴퓨터에 모든 시스템을 관리한다.
		  
		- 장점
			- 한대의 대형 컴퓨터만 있으면 되므로 구성이 간단하다.
			- 대형 컴퓨터의 리소스 관리나 이중화에 의해 안정성이 높고 고성능이다.
		- 단점
			- 대형 컴퓨터의 도입 비용과 유지 비용이 비싸다.
			- 확장성에 한계가 있다.
	  
	- 분할형 아키텍처
		- 여러대의 컴퓨터를 하나의 시스템으로 구축하는 구조
		  
		- 장점
			- 낮을 비용으로 시스템을 구축할 수 있다.
			- 서버 대수를 늘릴 수 있어 확장성이 높다.
		- 단점
			- 대수가 늘어나면 관리 구조가 복잡해진다.
			- 한대가 망가지면 영향 범위를 최소화하기 위한 구조를 검토해야 한다.
		
	- 물리서버와 논리 서버의 차이
		- 분할형 아키텍처에 사용되는 컴퓨터를 '서버'라고 한다.
		- 서버라는 용어는 하드웨어 혹은 소프트웨어를 가리킬 수 도 있다.
		- 서버는 '특정 역할에 특화 된것'을 의미
		  
		- 예시
			- 현실 세계 : 주문 접수 및 음식을 내오는 것에 특화된 웨이터(서버)
			- IT 세계 : HTML 생성을 담당하는 웹 서버
			- IT 세계 : 대량의 데이터를 저장하고 요청에 따라 조회하는 DB 서버
		  
		- 컴퓨터 자체는 물리 서버라고 부른다. 
			인텔 x86 서버는 인텔 아키텍처를 채용하고 있어 IA 서버라고 부른다.
			이 IA 서버는 우리가 사용하는 일반 PC와 기본적인 아키텍처가 같다.
			서버의 연상이 어려우면 '모니터가 없는 PC'라고 이해해도 좋다.
	
- **1.3 수직 분할형 아키텍쳐**
	서버 별로 다른 역할을 담당한다.
	특정 서버 측면에서 봤을 때 역할에 따라 '위' 또는 '아래' 계층으로 나뉜다.
	
	- 클라이언트 - 서버형 아키텍처
		- 클라이언트 측에 전용 소프트웨어를 설치해야 한다는 특징
		  
		- 장점
			- 클라이언트 측에서 많은 처리를 실행할 수 있어서 소수의 서버로 다수의 클라이언트를 처리할 수 있다.
		- 단점
			- 클라이언트 측의 소프트웨어 정기 업데이트가 필요하다.
			- 서버 확장성에 한계가 발생할 수 있다.
	  
	- 3계층형 아키텍처
		- 클라이언트 - 서버형의 발전 형태
		- '프레젠테이션 계층', '애플리케이션 계층', '데이터 계층'의 3층 구조로 분할되어 3계층이라 부르며 각 계층의 역할의 명확히 구분돼 있다.
		
		- 프레젠테이션 계층
			- 사용자 입력을 받음
			- 웹 브라우저 화면을 표시
		- 애플리케이션 계층 
			- 사용자 요청(Request)에 따라 업무 처리
		- 데이터 계층
			- 애플리케이션 계층의 요청에 따라 데이터 입출력을 한다.
			
		- 장점
			- 서버 부하 집중개선
			- 클라이언트 단말의 정기 업데이트가 불필요
			- '처리 반환'에 의한 서버 부하 저감
		- 단점
			- 구조가 클라이언트 - 서버 구성보다 복잡하다.
	
- **1.4 수평 분할형 아키텍처**
	- 시스템을 수직으로 확장하는 구조가 아닌 다른 하나의 축으로 분할하는 것으로 더 높은 확장설을 실현한다.
	- 용도가 같은 서버를 늘려나가는 방식
		- 수직과 수평 분할형은 서로 베타적인 관계가 아니므로 대부분 시스템이 이 두 가지 방식을 함꼐 채택하고 있다.
		
		- 단순 수평 분할형 아키텍처
			- 말 그대로 단순 수평 구조로 시스템을 분할하여 시스템 전체 처리 성능을 향상시키는 것
			  
			- 장점
				- 수평으로 서버를 늘리기 때문에 확장성이 향상된다.
				- 분할한 시스템이 독립적으로 운영되므로 서로 영향을 주지 않는다.
			- 단점
				- 데이터를 일원화해서 볼 수 없다.
				- 애플리케이션 업데이트는 양쪽을 동시에 해 주어야 한다.
				- 처리량이 균등학 분할돼 있지 않으면 서버별 처리량에 치우침이 생긴다.
				  
		- 공유형 아키텍처
			- 단순 분할형과 달리 읿 계층에서 상호 접속이 이루어진다.
			
			- 장점
				- 수평으로 서버를 늘리기 떄문에 확장성이 향상된다.
			- 단점
				- 분할한 시스템 간 독립성이 낮아진다.
				- 공유한 계층의 확장성이 낮아진다.
	
- **1.5 지리 분할형 아키텍처**
	- 수직과 수평이 아키텍처를 조합함으로써 목적에 적합한 구성을 만들었다면 
	- 지리 분할형은 업무 연속성 및 시스템 가용성을 높이기 위한 방식으로 지리적으로 분할하는 아키텍처이다.
	  
	- 스탠바이형 아키텍처
		- 스탠바이 구성, HA(High Availability) 구성, 액티브-스탠바이 구성 등으로 불리는 형태
		- 물리 서버를 최소 두 대를 준비하여 한 대가 고장나면, 가동 중인 소프트웨어를 다른 한 대로 옮겨서 운영하는 방식
		- 페일오버(Failover) | F/O or 페일
			- 소프트웨어 재시작을 자동으로 하는 구조
		- 물리 서버 고장에 대처할 수 있지만, 보통 때는 페일오버 대상 서비스가 놀고 있는 상태가 되기 때문에 리소스 측면에서 낭비가 발생한다.
		- 이 문제를 해결하기위해 스탠바이를 따로 두지 않고 양쪽 서버를 동시에 교차 이용한다.
	- 재해 대책형 아키텍처
		- 재해 발생 시 다른 사이트에 있는 재해 대책 환경에서 업무 처리를 재개하는 것
		- 재해가 발생하면 전혀 다른 사이트에 있는 정보를 이용하게 되는 것
		- 문제는 애플리케이션 최신화와 데이터 최신화이다. 떄문에 어느정도 실시간성을 유지해서 사이트 간 동기 처리를 해야 한다.
### 서버를 열어 보자
	
- **2.1 물리 서버**
	-  서버 외관과 설치 장소
		- 아키텍처 전체를 구상할 때는 먼저 서버라는 단위를 생각한다.
		- 물리 서버 내부의 구조에 대해 자세히 다룰 것
		
		- 데이터 센터 & 서버실
			- 대량의 서버 설치
			- 서버의 열기를 식히기 위한 실내 온도를 낮게 항상 낮게 설정
			- 빛이 들어오지 않는 환경
			- 서버에겐 친절하지만 사람에겐 그렇지 못한 장소
			- 서버는 Rack을 장착
			- 랙에는 서버, HDD, 네트워크 스위치, 등 탑재
			- IU (서버 높이 4.5cm)
			  
		- 서버 설치 시 중요한 정보
			- 서버 크기(U)
			- 소비 전력(A)
			- 중량(Kg)
			  
		- Intel의 CPU를 사용한 IA 서버
		  
		- 서버 내부 구성
			- 서버는 PC와 물리적인 기본 구성이 같다.
				- 전원 이중화
				- 대용량 CPU & 메모리 탑재
			- NIC
			- PCI  슬롯
			- PCI Express
			- UPI
			- 칩셋 
			- SATA 3
			- LPC
			- PCH
			- BMC
			- MGMT LAN
			- 시리얼
			- DMI
	
- **2.2 CPU**
	- 
	
- **2.3 메모리**
	- 
	
- **2.4 I/O 장치**
	- 하드 디스크 드라이브(HDD)
	- 네트워크 인터페이스
	- I/O 제어
	  	
- **2.5 버스**
	- 
	
- **2.6 정리**
	- 
	
### 3계층형 시스템을 살펴보자

### 인프라를 지탱하는 기본 이론

### 인프라를 지탱하는 응용 이론

### 제목

### 제목

### 제목

### 제목

### 제목

### 제목

### IT 인프라 구조 

- 1장 인프라란 무엇인가?
	
	- 인프라(Infra)란?
		- 기반라는 의미
		- 구조 자체는 복잡하지만, 전문가에 의해 관리되고 있어서 사용자는 그 구조를 이해하지 않고도 간단히 이용할 수 있다는 특징
	  
	- 아키텍처()란?
		- 구조라는 의미
		- 특정한 주체의 하위로 여러 가지 종류가 있지만 구조적인 표준이 반드시 존재한다.
		- 예시 : 기차
			- 기차는 다양한 다양한 종류가 있지만 전기로 움직이거나, 여러 객체가 연결돼 있고, 내부나 좌석이나 손잡이가 있다.
	  
	- 인프라 아키텍처란?
		- IT 인프라의 구조를 의미
		- 인터넷 검색 시스템, 항공 회사 티켓 발권 시스템, 편의점 계산대 등
		- 사용자는 그 기능의 작동을 이해하지 못해도 사용할 수 있다.
		  
	- 궁극의 아키텍처와 최적의 아키텍처
		- 궁극의 아키텍처?
			- 아떤 시스템이든 요건은 거의 비슷하다면 하나의 만능 아키텍처로 모든 프로젝트에 적용할 수는 없을까?
			- 결론은 불가능하다. 모든 아키텍처나 설계 요소에는 반드시 장점과 단점이 공전한다. 장점만 있다면 가장 좋은 것을 취하면 되지만, 단점은 가장 영향력이 적은 것으로 선택하는 것이 어렵기 때문에 반드시 취사 선택해야 할 상황이 발생한다.
			- 가장 제약이 많은 것이 시스템 도입 비용이다. 
			- 100만명이 사용하는 대규모 웹서비스의 예산과 사내에서 10명이 사용하는 시스템의 예산의 차이는 크다. 하지만 중요도는 둘다 크다. 
		
	- 집약형과 분할형 아키텍처
		- IT 인프라는 컴퓨터로 구성된다. 
		  
		- 집약형 아키텍처
			- 대형 컴퓨터로 모두 처리하는 구조
			- 범용장비, 호스트, 메인 프레임이라 불림
			- 하나의 컴퓨터로 모든 처리를 하기 때문에 '집약형'이라고 할 수 있다.
			- 장점
				- 한 대의 대형 컴퓨터만 있으면 되므로 구성이 간단하다.
				- 대형 컴퓨터의 리소스 관리나 이중화에 의해 안정성이 높고 고성능이다.
			- 단점
				- 대형 컴퓨터의 도입 비용과 유지 비용이 비싸다.
				- 확장성에 한계가 있다.
		  
		- 분할형 아키텍처
			- 여러 대의 컴퓨터를 조합해서 하나의 시스템을 구축하는 구조
			- 표준 OS나 개발 언어를 이용하기 때문에 '오픈 시스템'이라고도 부른다.
			- 여러대 컴퓨터를 연결해 이용하기에 '분산 시스템'이라 부르는 경우도 있다.
			- 장점
				- 낮은 비용으로 시스템을 구축할 수 있다.
				- 서버 대수를 늘릴 수 있어서 확장성이 높다.
			- 단점
				- 대수가 늘어나면 관리 구조가 복잡해진다.
				- 한 대가 망가지면 영향 범위를 최소화하기 위한 구조를 검토해야 한다.
			  
		- 물리 서버와 논리 서버의 차이
			- 서버라는 용어는 특정 역할에 특화된 것을 의미
				- Web 서버 : 인터넷 접속을 했을 때 시용자 입력 및 HTML 생성을 담당하는 것은 서버에서 동작하는 소프트웨어
				- DB 서버 : 대량의 데이터를 저장해서 요청에 따라 데이터를 제공하는 것은 데이터베이스 기능을 제공하는 서버
			- 물리서버
				- 컴퓨터 자체를 가리키는 경우
				- 인텔에서는 인텔 아키텍처를 채용하고 있어 IA 서버라고 부른다.
				- IA 서버는 일반 PC와 기본적인 아키텍처가 같다.
				- Web 서버, DB 서버가 하나, 또는 각각 별도의 물리 서버에서 동작하는 경우가 있다.
			
		- 수직 분할형 아키텍처
			- 분할형에서 서버 분할 방식, 즉 역할 분담을 고려
			- 각각의 서버가 전혀 다른 작업을 하는 것인지, 비슷한 작업을 하는 것인지에 대한 관점
			- 수직 분할형은 특정 서버 측면에서 봤을 때 역할에 띠리 '위' 또는 '아래' 계층으로 나뉜다.
			
			- 클라이언트-서버형 아키텍처
				- 클라이언트 측에서 전용 소프트웨어를 설치해야한다.
				- 주로 PC, 스마트폰, 태블릿 단말로 사용
				- 장점
					- 클라이언트 측에서 많은 처리를 실행할 수 있어서 소수의 서버로 다수의 클라이언트를 처리 가능
				- 단점
					- 클라이언트 측의 소프트웨어 정기 업데이트가 필요하다
					- 서버 확장성에 한계가 발생할 수 있다
				
			- 3계층형 아키텍처
				- 클라이언트-서버형의 발전 형태
				- 프레젠테이션 계층, 애플리케이션 계층, 데이터 계층의 3층 구조 형태
				- 프레젠테이션 계층
					- 사용자 입력을 받는다.
					- 웹 브라우저 화면을 표시
				- 애플리케이션 계층
					- 사용자 요청(Request)에 따라 업무 처리
				- 데이터 계층
					- 애플리케이션 계층의 요청에 따라 데이터 입출력을 한다.
				- 장점
					- 서버 부하 집중 개선
					- 클라이언트 단말의 정기 어데이트가 불필요
					- '처리 반환'에 의한 서버 부하 저감
				- 단점
					- 구조가 클라리언트-서버 구성보다 복잡하다.
				  
			- 수평 분할형 아키텍처
				- 용도가 같은 서버를 늘려나가는 방식
				- 서버 대수가 늘어나면 한 대가 시스템에 주는 영향력이 낮아져서 안정성이 향상된다.
				- 처리를 담당하는 서버 대수가 늘어나면 전체적인 성능 향상도 실현할 수 있다.
				- 수직 분할형과 수평 분할형은 배타적인 관계가 아니다. 대부분의 시스템이 이 두가지 방식을 함께 채택하고 있다.
				  
			- 단순 수평 분할형 아키텍처
				- 시스템이 둘로 분할됨으로써 시스템 전체 처리 성능을 두 배로 향상시킬 수 있다.
				- 두개의 독룁된 시스템이 생성되기에 한쪽 시스템에 장애가 발생하더라도 다른 시스템에는 전혀 영향을 주지 않아 독립성이 향상된다.
				- 장점
					- 수평으로 서버를 늘리기 때문에 확장성이 향상된다.
					- 분할한 시스템이 독립적으로 운영되므로 서로 영향을 주지 않는다.
				- 단점
					- 데이터를 일원화해서 볼 수 없다.
					- 애플리케이션 업데이트는 양쪽을 동시에 해 주어야 한다.
					- 처리량이 균등하게 분할돼 있지 않으면 서버별로 처리량에 치우침이 생긴다.
					  
			- 공유형 아키텍처
				- 단순 분할형과 달리 일부 계층에서 상호 접속이 이루어진다.
				- 이 구상에서는 한 시스템이 필요에 따라 다른 시스템의 데이터에 접속할 수 있다.
				- 장점
					- 수평으로 서버를 늘리기 때문에 확장성이 향상된다.
					- 분할한 시스템이 서로 다른 시스템의 데이터를 참조할 수 있다.
				- 단점
					- 분할한 시스템 간 독립성이 낮아진다.
					- 공유한 계층의 확장성이 낮아진다.
				
			- 지리 분할형 아키텍처
				- 업무 연속성 및 시스템 가용성을 높이기 위한 방식으로 지리적으로 분할하는 아키텍처
				  
				- 스탠바이형 아키텍처
					- 물리 서버를 두 대를 준비하여 한 대가 고장 나면 가동 중인 소프트웨어를 다른 한 대로 옮겨서 운영하는 방식
					- 이 때 소프트웨어 재시작을 자동으로 하는 구조를 페일오버(Failover)라고 한다.
					- 물리 서버 고장에 대처할 수 있지만 보통 때는 페일오버 대상 서버가 놀고 있는 상태가 되기 때문에 리소스측면에서 낭비가 발생한다. 
					- 해결 방안으로 스탠바이를 따로 두지 않고, 양쪽 서버를 동시에 교차 이용하는 경우 많다.
					  
				- 재해 대책형 아키텍처
					- 특정 데이터 센터(사이트)에 있는 상용 환경에 고장이 발생하면 다른 사이트에 있는 재해 대책 환경에서 업무 처리를 재개하는 것
					- 문제가 되는 것은 어플리케이션 최신화와 데이터 최신화다. 특히 매일 갱신되기 떄문에 어느정도 실시간성을 유지해서 사이트간 동기 처리를 해야 한다.
					  
		- 물리 서버
			- 서버실의 특징
				1. 서버가 대량으로 설치되어 있다.
				2. 열기를 식히기 위해 실내 온도를 항상 낮게 설정되어있는 환경
				3. 빛도 들어오지 않는 환경
				4. 서버에겐 친절하지만 사람에겐 그렇지 못한 장소
				   
			- 물리 서버의 특징
				1. 랙(Rack)이란 것에 장착된다.
				2. 랙에는 서버 외에도 HDD가 가득 장착돼 있는 저장소나 인터넷 및 LAN을 연결하기 위한 네트워크 스위치 등도 탑재돼 있다.
				3. 물리 서버는 표준화된 규격이 있다.
				4. 전원이나 네트워크 케이블 배선 등은 모두 랙 뒷면에서 연결된다.
				   
			- 서버 설치 시 중요한 정보
				- 서버 크기(U)
				- 소비 전력(A)
				- 중량(Kg)
				  
			- IA 서버
				1. 대표적인 서버 아키텍처 중 하나인 인텔의 CPU를 사용한 서버
				2. 일반적인 서버는 옆으로 긴 형태다.
				3. 옆에 랙 마운트 레일이라는 것이 있어서 장롱 서랍처럼 설치할 수 있다.
				4. 전면에는 HDD나 전원 버튼 등이 있다.
				5. HDD는 교체하기 쉽게 되어 있어서 손으로 당겨 꺼낼 수 있다.   
				
			- 서버 내부 구성
				- 