생성일 | {{2024-01-09}}
작성자 | 김동욱
# 08-1 장치 컨트롤러와 장치 드라이버

### 요약

- 입출력 장치는 장치 컨트롤러를 통해 컴퓨터 내부와 정보를 주고 받는다.
- 장치 드라이버는 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램이다.
  
----
## 장치 컨트롤러

- 입출력 장치가 다루기 까다로운 이유
	- 너무나도 많은 종류의 입출력장치
		- 키보드, 마우스, USB 메모리, CD-ROM, SSD, 마우스, 프린터, 스피커, 마이크, 블루투스 이어폰 등등 매우 많다.
		- 각각의 장치마다 속도, 데이터, 전송 형식 등도 다양하다.
		- 따라서 다양한 입출력장치와 정보를 주고받는 방식을 규격화하기 어렵다.
		- 비유
			- CPU와 메모리 : 한국어
			- 프린터 : 영어
			- 스피커 : 일본어
			- 모니터 : 중국어
	- 일반적으로 CPU와 메모리의 데이터 전송률은 높지만 입출력장치는 데이터 전송률이 낮다.
		- 전송률(transfer rate)
			- 데이터를 얼마나 빨리 교환할 수 있는지를 나타내는 지표
		- CPU와 메모리같은 전송률이 높은 장치
			- 1초에도 수많은 데이터를 주고 받을 수 있다.
		- 입출력장치같은 전송률이 낮은 장치
			- 같은 시간 동안 데이터를 조금씩만 주고받을 수 있다.
		- 정리
			- 1초에 1000 마디 내맽는 사람과 1초에 한 마디 내맽는 사람끼리 대화하기란 어렵다. 
			- 전송률의 차이는 CPU와 메모리, 입출력 장치 간의 통신을 어렵게 한다.
			  
- 장치 컨트롤러(device controller)
		- 앞의 설명의 이유로 입출력장치는 컴퓨터에 직접 연결되지 않고 
			장치 컨트롤러라는 하드웨어를 통해 연결된다.
		- 장치 컨트롤러는 입출력 제어기(I/O controller), 입출력 모듈(I/O module) 등으로 다양하게 불리기도 한다.
		- 장치 컨트롤러의 역할
			- CPU와 입출력 장치 간의 통신 중개
				- 정보 규격화가 어려웠던 문제를 일종의 번역가 역함을 함으로써 해결
			- 오류 검출
				- 그 과정에서 장치 컨트롤러는 자신과 연결된 입출력장치에 문제가 없는지 오류를 검출
			- 데이터 버퍼링
				- 버퍼링(buffering)
					- 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이퍼를 버퍼(buffer)라는 임시 저장 공간에 저장하여 전송률을 비슷하게 맞추는 방법이다.
					- 쉽게 말해 버퍼링은 '버퍼에 데이터를 조금씩 모았다가 한꺼번에 내보내거나, 데이터를 한 번에 많이 받아 조금씩 내보내는 방법'
					- 즉, 장치 컨트롤러는 일반적으로 전송률이 높은 CPU와 일반적으로 전송률이 낮은 입출력장치와의 전송률 차이를 데이터 버퍼링으로 완화한다.
		- 장치 컨트롤러의 간략한 내부 구조
			- 실제로는 이보다 복잡하지만 ..
				일단 데이터 레지스터, 상태 레지스터, 제어 레지스터만 기억할 것.
			- 데이터 레지스터
				- CPU와 입출력장치 사이에 주고받을 데이터가 담기는 레지스터
				- 최근 주고받는 데이터가 많은 입출력장치에서는 레지스터 대신 RAM을 사용하기도 한다.
			- 상태 레지스터
				- 입출력장치가 입출력 작업을 할 준비가 되었는지, 
					입출력 작업이 완료되었는지, 
					입출력 장치에 오류가 없는지 등의 상태 정보가 저장되고, 
					제어 레지스터는 입출력장치가 수행할 내용에 대한 제어 정보와 명령을 저장한다.
			- 이 레지스터들에 담긴 값들은 버스를 타고 
				CPU나 다른 입출력장치로 전달되기도 하고, 
				장치 컨트롤러에 연결된 입출력장치로 전달된다.


## 장치 드라이버

- 장치 드라이버(device driver)
		- 새로운 장치를 컴퓨터에 연결하려면 장치 드라이버를 설치해야한다.
		- 장치 컨트롤러의 동작음 감지하고 제어한다.
		- 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램
		- 프로그램이기에 당연히 실행 과정에서 메모리에 저장된다. 
		- 장치 컨트롤러가 입출력장치의 하드웨어적인 통로라면
		- 장치 드라이버는 입출력 장치의 소프트웨어적인 통로이다.
		- 컴퓨터가 연결된 장치의 드라이버를 인식하고 실행할 수 있다면
			그 장치의 어떤 회사에서 만들어진 제품이든, 생김새가 어떻든 상관없이
			컴퓨터 내부와 정보를 주고 받을 수 있다.
			반대로 장치 드라이버를 인식하거나 실행할 수 없는 상태라면 
			그 장치는 컴퓨터 내부와 정보를 주고받을 수 없다.
		- 장치 드라이버를 인식하고 실행하는 주체
			- Window, macOS와 같은 운영체제이다.
			- 운영체제가 장치 드라이버를 인식하고 실행할 수 있다면 그 장치는 컴퓨터 내부와 정보를 주고 받을 수 있다.
			- 운영체제가 기본으로 제공하는 것도 있지만, 장치 제작자가 따로 제공하기도 한다.
			- 물론 장치 제작자가 장치 드라이버를 따로 제공하는 경우 입출력장치는 해당 드라이버를 직접 설치해야만 사용이 가능하다.


----
### 퀴즈

디스커션 링크: