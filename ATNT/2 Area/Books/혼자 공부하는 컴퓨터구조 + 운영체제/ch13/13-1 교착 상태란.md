생성일 | {{2024-01-28}}
작성자 | 김동욱


# 13-1 교착 상태란
### 요약
- 교착 상태는 일어나지 않을 사건을 기다리며 무한히 대기하는 현상을 의미한다.
- 식사하는 철학자 문제는 교착 상태의 발생을 보여 주는 예시이다.
- 자원 할당 그래프를 이용해 교착 상태를 표현할 수 있다.
- 교착 상태 발생 조건은 상호 배제, 점유와 대기, 비선점, 원형 대기이다.
---

- 교착 상태란?
	- 프로세스나 스레드가 결코 일어날 수 없는 특정 이벤트를 기다리는 상태
	- 교착 상태의 꽉막힌 도로 비유![[교착 상태의 꽉막힌 도로.jpeg]]
- 식사하는 철학자 문제
	- ![[식사하는 철학자 문제.webp]]
	- 식사하는 철학자 문제
		다섯 명의 철학자가 하나의 원탁에 앉아 식사를 한다. 
		각각의 철학자들 사이에는 포크가 하나씩 있고, 앞에는 접시가 있다. 
		접시 안에 든 요리는 포크를 두개 사용하여 먹어야만 하는 스파게티이다. 
		그리고 각각의 철학자는 다른 철학자에게 말을 할 수 없으며, 
		번갈아가며 각자 식사하거나 생각하는 것만 가능하다. 
		따라서 식사를 하기 위해서는 
		왼쪽과 오른쪽의 인접한 철학자가 모두 식사를 하지 않고 생각하고 있어야만 한다.
		또한 식사를 마치고 나면, 
		왼손과 오른손에 든 포크를 다른 철학자가 쓸 수 있도록 내려놓아야 한다. 
		이 때, 어떤 철학자도 굶지 않고 식사할 수 있도록 하는 방법은 무엇인가?
- 자원 할당 그래프
	- ![[스크린샷 2024-02-03 032939.png]]
		- 요청선 : 프로세스에서 자원으로 연결 된 선
		- 할당선 : 자원에서 프로세스에 연결 된 선
	- 교착상태 확인 방법
	1. 자원할당 그래프의 사이클이 존재하는 지 확인
	2. 사이클이 존재한다면 
		-  자원 유형에 하나의 사례만 있으면 교착상태
		-  자원 유형에 여러 사례가 있으면 교착상태 가능성
	- 예시
			- 교착 상태가 있는 자원 할당 그래프 예시![[스크린샷 2024-02-03 033210 1.png]]
			- 사이클은 있지만 교착상태가 아닌 예시![[스크린샷 2024-02-03 033406.png]]
				- 프로세스 p1이 작업을 완료하고 R3의 자원을 반환하면 p3은 p1이 반환한 자원을 할당 받으면 된다.
- 교착 상태 발생 조건
	- 4가지 모두가 포함 되어야 교착 상태가 발생한다.
	- 상호 배제
		- 한 리소스는 한 번에 한 프로세스만이 사용할 수 있음
	- 점유와 대기
		- 어떤 프로세스가 하나 이상의 리소스를 점유하고 있으면서 다른 프로세스가 가지고 있는 리소스를 기다리고 있음
	- 비선점
		- 프로세스가 태스크를 마친 후 리소스를 자발적으로 반환할 때까지 기다림 (강제로 빼앗지 않는다)
	- 원형 대기
		- - Hold and wait 관계의 프로세스들이 서로를 기다림


- Quiz 
	- 

---