생성일 | {{2024-01-09}}
작성자 | 김동욱

# 09-2 운영체제의 큰 그림

### 요약

- 커널은 운영체제의 핵심 기능을 담당한다.
- 이중 모드는 CPU가 명령어를 실행하는 모드를 커널 모드와 사용자 모드로 구분하는 방식
- 시스템 호출은 운영체제의 서비스를 제공받기 위해 커널모드로 전환하는 방법이다.
- 대표적인 운영체제 서비스로 프로세스 관리, 자원 접근 및 할당, 파일 시스템 관리가 있다.

---


- 커널
	- 운영체제의 핵심이자, 프로그램 중 규모가 가장 큰 프로그램 중 하나이다.
		- 리눅스 : 소스 코드 10,000,000 줄 이상
- 사용자 인터페이스(UI : User Interface)
		- 그래픽 유저 인터페이스(GUI : Graphical User Inerface | 그래픽 사용자 인터페이스)
			- 모니터
			- 스마트폰 화면
		- 커맨드 라인 인터페이스(CLI : Command Line Interface | 명령줄 인터페이스)
			- 터미널
			- 명령 프롬프트 
- 이중 모드
	- CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 나눈 방식
	- 사용자 모드
		- 운영체제 서비스를 제공받을 수 없는 실행 모드
		- 제한된 권한의 모드
		- 대부분의 응용 프로그램
	- 커널 모드 
		- 운영체제 서비스를 제공받을 수 있는 실행 모드
		- 커널 영역의 코드를 실행할 수 있는 모드
		- 하드웨어에 접근 할 수 있다.
	- CPU의 실행중인 사용자 모드 , 커널 모드 구분법
		- 플래그 레지스터 속 슈퍼바이저 플래그
	- 이중 모드로 나눈 이유
		- 운영체제는 실행하는 응용 프로그램이 하드웨어 자원에 직접 접근하는 것을 방지한다.
			- 왜?
				- CPU, 메모리, 하드 디스크 등 마음대로 접근하고 조작으로 무질서한 관리 
				- 조금만 실수해도 컴퓨터 전체에 치명적인 오류를 일으킬 수 있다.
	
- 시스템 호출(System call)
	- 커널 모드로 전환하기 위한 요청
	- 소프트웨어 인터럽트
	- 시스템 호출의 처리 순서
		1. 시스템 호출
			- 한 응용 프로그램이 하드 디스크에 데이터를 저장하려 함
		1. 운영체제 코드 실행
			- 하드 디스크에 데이터를 저장하는 코드 실행
		2. 시스템 호출 복귀
			- 사용자 모드로 복귀 후 이어서 실행
	- 응용프로그램 실행 과정 시스템 호출은 매우 빈번하게 이용된다.
		- 따라서 사용자와 커널 모드도 매우 빈번하게 오가며 실행된다.
	
- 운영체제의 핵심 서비스
	- 프로세스 관리
		- 운영체제는 다양한 프로세스를 일목요연하게 관리하고 실행할 수 있어야 한다.
	- 자원 접근 및 할당
		- CPU
			- CPU 스케줄링
		- 메모리
		- 입출력장치
			- 인터럽트 서비스 루틴
	- 파일 시스템 관리
		- 파일을 디렉토리(폴더)로생성, 삭제, 열기 등 관리
	
	
